# Netlify configuration for AAPL Price Dashboard
[build]
  # Build command to create a clean distribution folder
  # This avoids uploading the entire repo (including large data/ folder) to Netlify
  command = "mkdir -p dist/data && cp dashboard.html dist/index.html && cp data/prices_*.json data/alerts_*.json dist/data/"
  publish = "dist"
  
[[redirects]]
  # Redirect root to dashboard
  from = "/"
  to = "/dashboard.html"
  status = 200

[[headers]]
  # Cache control for data files
  for = "/data/*"
  [headers.values]
    Cache-Control = "public, max-age=300, must-revalidate"
    Access-Control-Allow-Origin = "*"

[[headers]]
  # Cache control for dashboard
  for = "/dashboard.html"
  [headers.values]
    Cache-Control = "public, max-age=600, must-revalidate"
